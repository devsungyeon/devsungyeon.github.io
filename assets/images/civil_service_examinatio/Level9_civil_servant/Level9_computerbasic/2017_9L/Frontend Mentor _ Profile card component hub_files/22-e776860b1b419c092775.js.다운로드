(window.cbJsonP=window.cbJsonP||[]).push([[22],{231:function(e,t,r){"use strict";t.__esModule=!0;var u=n(r(102)),l=n(r(232));function n(e){return e&&e.__esModule?e:{default:e}}t.default=function e(t,r,n){null===t&&(t=Function.prototype);var a=(0,l.default)(t,r);if(void 0===a){var o=(0,u.default)(t);return null===o?void 0:e(o,r,n)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(n):void 0}},232:function(e,t,r){e.exports={default:r(233),__esModule:!0}},233:function(e,t,r){r(234);var n=r(8).Object;e.exports=function(e,t){return n.getOwnPropertyDescriptor(e,t)}},234:function(e,t,r){var n=r(35),a=r(74).f;r(68)("getOwnPropertyDescriptor",function(){return function(e,t){return a(n(e),t)}})},258:function(e,t,r){"use strict";r.r(t);var n=r(28),a=r.n(n),o=r(102),i=r.n(o),u=r(12),l=r.n(u),s=r(2),c=r.n(s),d=r(103),f=r.n(d),v=r(4),p=r.n(v),g=r(104),h=r.n(g),k=r(231),_=r.n(k),y=(r(22),r(41)),m=[{name:"logger",actions:[{name:"track",method:"post",endpoint:"/api/internal/track_info_error",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"}}]}],E=r(3),O=r.n(E),w=r(9),M=r.n(w),b=r(19);function C(e){c()(this,C),e&&this.setMetadata(e),this.ready=this.initialize()}var R,j,G=(p()(C,[{key:"setMetadata",value:function(e){e&&"object"===(void 0===e?"undefined":M()(e))&&0<O()(e).length&&(this.meta=e)}}],[{key:"throw",value:function(){}},{key:"getMaskedError",value:function(){var e=new Error;return e.name="unknown_error",e.message=Object(b.d)("error.unknownError"),e}},{key:"throwMaskedError",value:function(){throw C.getMaskedError()}},{key:"sanitizeError",value:function(e){if(e instanceof Error||e&&e.name){var t=new Error;return t.name=e.name,t.message=e.displayMessage||e.message,t.stack=e.stack,t}return new Error(e)}}]),C),I=r(23),L=r(46);(j=R=R||{}).ERROR="ERROR",j.INFO="INFO";var P,N=r(105),x=(P=G,h()(z,P),p()(z,[{key:"init",value:function(){return this.apiClient.addApis(m),l.a.resolve()}},{key:"initialize",value:function(){return l.a.resolve()}},{key:"setMetadata",value:function(e){_()(z.prototype.__proto__||i()(z.prototype),"setMetadata",this).call(this,e)}},{key:"log",value:function(e,t){var r=this,n={data:Object(I.b)(a()({},Object(I.g)(e),t,this.meta,{key:L.a.LOGGING,log_data_type:R.INFO,ref_module:"chargebee.js"}),"_"),type:"kvl"};this.commMgr.pluginMan.isPluginLoaded(y.a.CHECKOUT_UTILS)?this.commMgr.getCheckoutUtilsPlugin().then(function(e){return e.getHpData().customer_handle}).then(function(e){e&&(n.data.customer_handle=e),r.apiClient.logger.track({},n)}):this.apiClient.logger.track({},n)}},{key:"logError",value:function(e,t){var r={data:Object(I.b)(a()({},Object(I.g)(G.sanitizeError(e)),t,this.meta,{key:L.a.LOGGING,log_data_type:R.ERROR,ref_module:"chargebee.js"}),"_"),type:"kvl"};this.apiClient.logger.track({},r)}},{key:"captureException",value:function(e){var t=e.error,r=e.extraData;return t&&(N.a.error(t,r),this.logError(t,r)),l.a.resolve({acknowledged:!0})}},{key:"captureKVL",value:function(e){return this.log(e),l.a.resolve({acknowledged:!0})}}]),z);function z(e){c()(this,z);var t=f()(this,(z.__proto__||i()(z)).call(this));return t.commMgr=e,t.apiClient=e.apiClient,t.iframeClient=e.connectionClient,t}t.default=x}}]);
//# sourceMappingURL=22-e776860b1b419c092775.js.map